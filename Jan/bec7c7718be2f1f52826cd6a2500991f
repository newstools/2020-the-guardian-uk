Iran has launched more than a dozen missiles at Iraqi bases hosting US and coalition troops, declaring the strikes to be retaliation for the killing last week of Qassem Suleimani. Al-Asad airbase in Iraq’s Anbar province was hit 17 times, including by two ballistic missiles that failed to detonate, according to the Iraqi prime minister’s office. A further five missiles were targeted at a base in the northern city of Erbil in the assault, which began at about 1.30am local time on Wednesday (10.30pm GMT). Iraq, the UK, Australia, Canada and the US said none of their personnel had been killed or injured and both Donald Trump and the Iranian foreign minister, Javad Zarif, appeared to signal they did not wish to escalate further. A relieved Trump struck an upbeat tone in the immediate aftermath of the strikes. “All is well!” he declared on Twitter. He said casualty assessments were under way but “so far, so good”. There had been reports the president had planned a televised address to the nation, but as it emerged there were no reported casualties he delayed making a statement until the morning. Zarif made clear the strikes had “concluded” early on Wednesday morning and characterised them as “proportionate measures in self-defence” rather than an act of war. Iran took & concluded proportionate measures in self-defense under Article 51 of UN Charter targeting base from which cowardly armed attack against our citizens & senior officials were launched.We do not seek escalation or war, but will defend ourselves against any aggression. Iranian officials told state media, without presenting evidence, that at least 80 US personnel had been killed or injured in the strikes and that the toll was being hidden from the public. Television stations ran interviews with people praising the strikes. “This showed our power,” one man said. “The real revenge is when Americans leave the region.” It is unclear whether the limited missile salvo will mark an end to Iranian reprisals for the death of Suleimani, the head of al-Quds, an external operations wing of the Islamic Revolutionary Guard Corps (IRGC), or whether the leadership intends further retribution at a later date. Analysts said the limited casualties could indicate the strikes – the first direct Iranian attack on a US base – were designed to allow Iran’s leaders to satisfy their domestic audience that Suleimani’s killing had been avenged, without forcing the Trump administration to retaliate. Iran’s supreme leader, Ali Khamenei, told an audience in the city of Qom: “We just gave [the US] a slap in the face last night. But that is not equivalent to what they did.” It was the IRGC that announced the start of the missile strike in a statement saying: “The brave soldiers of IRGC’s aerospace unit have launched a successful attack with tens of ballistic missiles on the al-Asad military base in the name of martyr General Qassem Suleimani.” The semi-official Tasnim news agency reported a second wave of strikes against the al-Asad base took place at about 3.20am. Iranian state media outlets said the country had launched fighter jets that had penetrated Iraqi airspace but it was unclear whether their mission had been defensive or intended as misdirection. The US said it was working on initial assessments of the damage and said both bases had been on high alert in recent days in anticipation of an Iranian response to Suleimani’s assassination. The sprawling al-Asad air base, about 37 miles (60km) west of Baghdad, has been used by American and coalition forces since its capture during the 2003 US-led invasion of Iraq and has been visited by Trump and the vice-president, Mike Pence, in the past 18 months. It is estimated to host about 1,500 foreign troops. IRGC officials were quoted in state media outlets warning the US against retaliating for the missile strikes and warned that Israel could be attacked if it did. Al-Asad has previously been a target of an Iranian-backed Shia militia, Kata’ib Hezbollah, whose attacks on US and coalition troops triggered tit-for-tat strikes that culminated in the drone strike. Earlier in the day, the secretary of Iran’s national security council, Ali Shamkhani, said 13 “revenge scenarios” were being considered in the wake of the assassination and that even the most limited options would be a “historic nightmare” for the US. Shamkhani told the Tasnim news agency: “The 27 US bases that are closest to Iran’s border are already on high alert; they know that the response is likely to include medium-range and long-range missiles.” Trump responded to Iranian threats in remarks to the press at the White House. “We’re totally prepared. And likewise, we’re prepared to attack if we have to,” he said. But he appeared to draw back from his earlier threats to target Iranian cultural sites, a potential war crime.US allies had already begun leaving Baghdad, which was buzzing as night fell on Tuesday with helicopters flying in and out of the city’s fortified diplomatic district, known as the Green Zone. Canada, which leads the Nato training mission, said it was pulling out some of its 500 troops, and Germany said its presence in Iraq would be “temporarily thinned out”. Most of the Nato troops withdrawing were reported to be heading for Kuwait. “We have temporarily suspended our training on the ground, and we are taking all precautions necessary to protect our people,” a Nato spokesperson said. “This includes the temporary repositioning of some personnel to different locations both inside and outside of Iraq.” The US-led coalition to counter Isis is also repositioning its forces to lessen their vulnerability to attack. Britain’s defence secretary, Ben Wallace, said non-essential personnel were being moved from Baghdad to Taji, about 19 miles (30km) to the north. Responding to the strikes, Dominic Raab, the British foreign secretary, said: “We condemn this attack on Iraqi military bases hosting coalition – including British – forces. “We are concerned by reports of casualties and use of ballistic missiles. We urge Iran not to repeat these reckless and dangerous attacks, and instead to pursue urgent de-escalation. “A war in the Middle East would only benefit Daesh [Isis] and other terrorist groups.”