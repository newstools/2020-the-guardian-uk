Iran’s supreme leader will deliver a Friday sermon in Tehran for the first time since 2012 as the Islamic republic grapples with the fallout from the killing of its top general in a US airstrike and popular anger at its accidental shooting down of a passenger plane. Ayatollah Ali Khamenei has held the country’s top office since 1989 and has the final say on all major decisions. The 80-year-old openly wept at the funeral of the military commander Qassem Suleimani and vowed “harsh retaliation” against the United States. Khamenei last delivered a Friday sermon in February 2012 when he called Israel a “cancerous tumour” and vowed to support anyone confronting it. He also warned against any US strikes on Iran over its nuclear program, saying the US would be damaged “10 times over”. On 8 January Iran launched a barrage of ballistic missiles targeting US troops in Iraq without causing serious injuries. As Iran’s revolutionary guard braced for an American counterattack that never came, it mistakenly shot down a Ukrainian jet shortly after it took off from Tehran’s international airport, killing all 176 passengers on board, mostly Iranians. Authorities concealed their role in the tragedy for three days, initially blaming the crash on a technical problem. When they admitted they were responsible there were days of street protests which security forces dispersed with live ammunition and tear gas. Tensions between Iran and the US have steadily escalated since the US president, Donald Trump, withdrew America from Iran’s 2015 nuclear deal with world powers, which had imposed restrictions on its nuclear program in exchange for lifting international sanctions. The White House has since imposed crippling sanctions on Iran, including its vital oil and gas industry, pushing the country into an economic crisis that has ignited several waves of sporadic, leaderless protests. Trump has openly encouraged the protesters, even tweeting in Farsi that he hoped the protests and the sanctions would bring about fundamental change. After Suleimani was killed Iran announced it would no longer be bound by the limitations in the nuclear agreement. European countries who have tried to salvage the deal responded earlier this week by invoking a dispute mechanism that is aimed at bringing Iran back into compliance and could result in even more sanctions. Khamenei was always sceptical of the nuclear agreement, arguing that the US could not be trusted. But he allowed president Hassan Rouhani, a relative moderate, to conclude the agreement with the former US president, Barack Obama. Since Trump’s withdrawal, he has said there can be no negotiations with the US.