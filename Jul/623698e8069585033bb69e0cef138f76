EU leaders shifted their positions on Monday evening to reach a historic agreement on the bloc’s long-term spending plans and a €750bn pandemic recovery fund following days of acrimonious debate at the longest leaders’ summit in two decades. A new “spirit of compromise” had been found, Emmanuel Macron said, despite the French president thumping the negotiating table in frustration the previous evening and likening those thwarting his spending plans to the ill-fated British in previous budget negotiations. As Macron had arrived ahead of a fourth evening of negotiations with his fellow leaders he spoke of cautious optimism. Within hours senior EU diplomats spoke of an impending breakthrough. A plenary session of the 27 heads of state and government broke up late on Monday evening “for a limited number of technical adjustments” amid growing confidence of agreement being found despite days of unseemly rows and name-calling among leaders. The renewed confidence followed a new proposal from the European council president, Charles Michel, for the EU to pay out €390bn in non-repayable grants for the worst-hit countries and €360bn in loans. The money would be raised through jointly issued debt. The “frugal” states of the Netherlands, Denmark, Sweden and Austria have been pushing for the original proposal by the European commission for €500bn in grants for stricken countries to be reduced to €350bn, to the evident frustration of Macron and the German chancellor, Angela Merkel. Italy’s prime minister, Giuseppe Conte, had warned his Dutch counterpart Mark Rutte, who has led the way on reducing the level of grants, that he faced being blamed for a lack of EU response to the deep economic recession facing the continent. But Michel’s new formulation, emerging out of hours of bilateral talks with the leaders on both sides of the debate, ahead of an evening debate of the full 27 heads of state and government, led the former Belgian prime minister to tell reporters that he believed “an agreement is possible”. Austria’s Sebastian Kurz had also described himself as “very happy” with the developments after a day of “tough negotiations” and Merkel suggested there was now a framework for an agreement after Michel’s latest intervention. Rutte, who was roundly attacked by fellow leaders during the talks, said the negotiations were back on track. “We are not here because we are going to be visitors at each other’s birthday party later. We are here because we do business for our own country. We are all pros,” he said. The new plan would see the “frugals” receive significant increases in the rebates they receive on their budget contributions, a throwback from 1984 when Margaret Thatcher secured discounts on the UK’s out-sized budget contributions. Michel had also watered down his proposal for holding up the disbursement of funds where there are concerns over either how the money will be spent or the state of the rule of law in a country. Western European member states are at loggerheads with Poland and Hungary on democratic values. France, Germany and other countries want to link EU funds to respect for the rule of law, but Hungary and Poland’s governments, both accused of undermining judicial independence and minority rights, have rejected this plan. Under Michel’s plan the European commission would still be able to take “appropriate and proportionate measures that will have to be approved by the council by qualified majority”. But the new proposal offered Hungary and Poland, who have faced EU proceedings over undermining their judiciary, extra assurances that “this process should respect the principles of objectivity, non-discrimination and equal treatment of member states, and should be conducted on a non-partisan and evidence-based approach”. Beyond a debate over the size of the recovery fund for countries hit hardest by the coronavirus pandemic, there remained the thorny problem of the EU’s seven-year budget,the multi-financial framework, which is due to start next year. Michel has proposed spending of €1.074tn on EU programmes over the next seven years, which the frugal countries also want to reduce and link to the adoption of carbon emission targets. At stake is the EU’s promised green recovery that helps countries meet a target of net-zero emissions by 2050 – an issue that has been hardly discussed during the summit’s first three days. Poland’s prime minister, Mateusz Morawiecki, said on Monday he could not agree to any link between the EU’s post-pandemic recovery fund and the 2050 climate neutrality goal. Poland, which stands to gain €37bn in grants from the fund, plus potentially several billions more from a “just transition fund” to move away from coal, is the only EU member state not to have made the 2050 pledge. But the compromise proposal tabled on Monday swung in Poland’s favour, by watering down a demand to link green transition funds to signing up to the 2050 climate target to the consternation of activist groups and senior MEPs. The Brussels summit, the first in-person meeting of the leaders for five months, is the longest summit since a meeting in Nice 20 years ago when leaders debated EU enlargement. It had been notably bad-tempered from day one. As tempers flared on Sunday night, Macron had even accused Kurz of having a “bad attitude” and not caring about the views of others after he had left the negotiating room to take a call. Asked to respond to Macron’s criticisms of his approach, Kurz said: “It’s understandable that some people, when they don’t get much sleep, have their nerves on edge, and we respect that, but all’s well that ends well.”